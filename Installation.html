<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INSTALLATION REPORT</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="In.css">
</head>
<body>
    <div class="loading" id="loading">
        <div class="spinner"></div>
    </div>
    
    <div class="toast" id="toast">Data loaded from SheetDB</div>
    
    <div class="container">
        <header>
            <div class="header-nav">
                <a href="mainpage.html" class="nav-btn">
                    <i class="fas fa-home"></i> Home
                </a>
                <a href="Service.html" class="nav-btn">
                    <i class="fas fa-cogs"></i> Service
                </a>
            </div>
            <h2><i class="fas fa-file-alt"></i> INSTALLATION REPORT SYSTEM</h2>
            <p class="subtitle">Create, manage and track installation reports</p>
        </header>
        
        <div class="view-toggle">
            <button id="showFormBtn" class="inactive-view"><i class="fas fa-plus-circle"></i> New Report</button>
            <button id="showDataBtn" class="active-view"><i class="fas fa-list"></i> View Reports</button>
        </div>
        
        <div id="formView">
            <div class="report-container">
                <form id="installationForm">
                    <input type="hidden" id="recordId" name="recordId" value="">
                    
                    <h3 class="section-title"><i class="fas fa-user"></i> Customer Information</h3>
                    <div class="side">
                        <div class="form-group">
                            <label for="date" class="required"><i class="fas fa-calendar-alt"></i> DATE</label>
                            <input type="date" id="date" name="date" required>
                        </div>
                        <div class="form-group">
                            <label for="customerName" class="required"><i class="fas fa-user"></i> CUSTOMER NAME</label>
                            <input type="text" id="customerName" name="customerName" required>
                        </div>
                        <div class="form-group">
                            <label for="address" class="required"><i class="fas fa-map-marker-alt"></i> ADDRESS</label>
                            <textarea id="address" name="address" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="city" class="required"><i class="fas fa-city"></i> CITY</label>
                            <input type="text" id="city" name="city" required>
                        </div>
                        <div class="form-group">
                            <label for="customerContact" class="required"><i class="fas fa-phone"></i> CUSTOMER CONTACT NO</label>
                            <input type="text" id="customerContact" name="customerContact" required>
                        </div>
                    </div>
                    
                    <h3 class="section-title"><i class="fas fa-user-cog"></i> Engineer Information</h3>
                    <div class="side">
                        <div class="form-group">
                            <label for="invoiceNo"><i class="fas fa-file-invoice"></i> INVOICE NO</label>
                            <input type="text" id="invoiceNo" name="invoiceNo">
                        </div>
                        <div class="form-group">
                            <label for="invoiceDate"><i class="fas fa-calendar"></i> INVOICE DATE</label>
                            <input type="date" id="invoiceDate" name="invoiceDate">
                        </div>
                        <div class="form-group">
                            <label for="installationDate"><i class="fas fa-calendar-check"></i> INSTALLATION DATE</label>
                            <input type="date" id="installationDate" name="installationDate">
                        </div>
                        <div class="form-group">
                            <label for="engineerName"><i class="fas fa-user-cog"></i> ENGINEER NAME</label>
                            <input type="text" id="engineerName" name="engineerName">
                        </div>
                        <div class="form-group">
                            <label for="engineerContact"><i class="fas fa-phone"></i> ENGINEER CONTACT NO</label>
                            <input type="text" id="engineerContact" name="engineerContact">
                        </div>
                    </div>
                    
                    <h3 class="section-title"><i class="fas fa-boxes"></i> Item Details</h3>
                    <div class="item-description">
                        <button type="button" class="btn-add" id="addItemBtn"><i class="fas fa-plus"></i> Add Item</button>
                        <div class="table-container">
                            <table id="itemsTable">
                                <thead>
                                    <tr>
                                        <th>S.NO</th>
                                        <th>ITEM DESCRIPTION</th>
                                        <th>MANUFACTURER</th>
                                        <th>SERIAL NO</th>
                                        <th>MODEL NO</th>
                                        <th>QUANTITY</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><input type="text" name="sNo[]" value="1" readonly></td>
                                        <td><input type="text" name="itemDescription[]"></td>
                                        <td><input type="text" name="manufacturer[]"></td>
                                        <td><input type="text" name="serialNo[]"></td>
                                        <td><input type="text" name="modelNo[]"></td>
                                        <td><input type="number" name="quantity[]" min="1" value="1"></td>
                                        <td><button type="button" class="btn-delete btn-small" onclick="removeItem(this)"><i class="fas fa-trash"></i> Remove</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <h3 class="section-title"><i class="fas fa-check-circle"></i> Confirmation Details</h3>
                    <div class="confirm-sec">
                        <div class="form-group">
                            <label for="warrantyPeriod"><i class="fas fa-shield-alt"></i> WARRANTY PERIOD (Months)</label>
                            <input type="number" id="warrantyPeriod" name="warrantyPeriod" min="0">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-desktop"></i> DEMO GIVEN ?</label>
                            <div class="checkbox-group">
                                <input type="radio" id="demoYes" name="demoGiven" value="Yes">
                                <label for="demoYes"><i class="far fa-check-circle"></i> Yes</label>
                                <input type="radio" id="demoNo" name="demoGiven" value="No" checked>
                                <label for="demoNo"><i class="far fa-times-circle"></i> No</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-chalkboard-teacher"></i> TRAINING GIVEN ?</label>
                            <div class="checkbox-group">
                                <input type="radio" id="trainingYes" name="trainingGiven" value="Yes">
                                <label for="trainingYes"><i class="far fa-check-circle"></i> Yes</label>
                                <input type="radio" id="trainingNo" name="trainingGiven" value="No" checked>
                                <label for="trainingNo"><i class="far fa-times-circle"></i> No</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <div>
                                <label for="eventStart"><i class="fas fa-play-circle"></i> (Events) Start</label>
                                <input type="datetime-local" id="eventStart" name="eventStart">
                            </div>
                            <div>
                                <label for="eventEnd"><i class="fas fa-stop-circle"></i> End</label>
                                <input type="datetime-local" id="eventEnd" name="eventEnd">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn-submit" id="submitBtn"><i class="fas fa-save"></i> Save Data</button>
                        <button type="reset" class="btn-reset" id="resetBtn"><i class="fas fa-redo"></i> Reset Form</button>
                    </div>
                </form>
            </div>
        </div>
        
        <div id="dataView">
            <div class="data-container">
                <div class="data-header">
                    <h3 class="data-title"><i class="fas fa-database"></i> Installation Reports</h3>
                    <button class="btn-view" id="refreshBtn"><i class="fas fa-sync-alt"></i> Refresh</button>
                </div>
                
                <div class="stats-cards">
                    <div class="stat-card">
                        <i class="fas fa-file-alt fa-2x"></i>
                        <div class="stat-number" id="totalReports">0</div>
                        <div class="stat-label">Total Reports</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-users fa-2x"></i>
                        <div class="stat-number" id="totalCustomers">0</div>
                        <div class="stat-label">Customers</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-cube fa-2x"></i>
                        <div class="stat-number" id="totalItems">0</div>
                        <div class="stat-label">Items Installed</div>
                    </div>
                    <div class="stat-card">
                        <i class="fas fa-user-cog fa-2x"></i>
                        <div class="stat-number" id="totalEngineers">0</div>
                        <div class="stat-label">Engineers</div>
                    </div>
                </div>
                
                <div class="search-bar">
                    <input type="text" id="searchInput" placeholder="Search by customer name, invoice no, or engineer...">
                    <button class="btn-view" id="searchBtn"><i class="fas fa-search"></i> Search</button>
                    <button class="btn-reset" id="clearSearchBtn"><i class="fas fa-times"></i> Clear</button>
                </div>
                
                <div id="recordsList">
                    <div class="no-records">
                        <i class="fas fa-inbox"></i>
                        <h3>No Reports Found</h3>
                        <p>Create your first installation report to get started</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for viewing record details -->
    <div id="viewModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeViewModal">×</span>
            <h3 class="section-title"><i class="fas fa-eye"></i> View Installation Report</h3>
            
            <div class="view-details-container">
                <div class="view-section">
                    <h4 class="view-section-title"><i class="fas fa-user"></i> Customer Information</h4>
                    <div class="view-detail-grid">
                        <div class="view-detail-item">
                            <div class="view-detail-label">DATE</div>
                            <div class="view-detail-value" id="viewDate">N/A</div>
                        </div>
                        <div class="view-detail-item">
                            <div class="view-detail-label">CUSTOMER NAME</div>
                            <div class="view-detail-value" id="viewCustomerName">N/A</div>
                        </div>
                        <div class="view-detail-item">
                            <div class="view-detail-label">ADDRESS</div>
                            <div class="view-detail-value" id="viewAddress">N/A</div>
                        </div>
                        <div class="view-detail-item">
                            <div class="view-detail-label">CITY</div>
                            <div class="view-detail-value" id="viewCity">N/A</div>
                        </div>
                        <div class="view-detail-item">
                            <div class="view-detail-label">CUSTOMER CONTACT NO</div>
                            <div class="view-detail-value" id="viewCustomerContact">N/A</div>
                        </div>
                    </div>
                </div>
                
                <div class="view-section">
                    <h4 class="view-section-title"><i class="fas fa-user-cog"></i> Engineer Information</h4>
                    <div class="view-detail-grid">
                        <div class="view-detail-item">
                            <div class="view-detail-label">INVOICE NO</div>
                            <div class="view-detail-value" id="viewInvoiceNo">N/A</div>
                        </div>
                        <div class="view-detail-item">
                            <div class="view-detail-label">INVOICE DATE</div>
                            <div class="view-detail-value" id="viewInvoiceDate">N/A</div>
                        </div>
                        <div class="view-detail-item">
                            <div class="view-detail-label">INSTALLATION DATE</div>
                            <div class="view-detail-value" id="viewInstallationDate">N/A</div>
                        </div>
                        <div class="view-detail-item">
                            <div class="view-detail-label">ENGINEER NAME</div>
                            <div class="view-detail-value" id="viewEngineerName">N/A</div>
                        </div>
                        <div class="view-detail-item">
                            <div class="view-detail-label">ENGINEER CONTACT NO</div>
                            <div class="view-detail-value" id="viewEngineerContact">N/A</div>
                        </div>
                    </div>
                </div>
                
                <div class="view-section">
                    <h4 class="view-section-title"><i class="fas fa-boxes"></i> Item Details</h4>
                    <div class="table-container">
                        <table id="viewItemsTable">
                            <thead>
                                <tr>
                                    <th>S.NO</th>
                                    <th>ITEM DESCRIPTION</th>
                                    <th>MANUFACTURER</th>
                                    <th>SERIAL NO</th>
                                    <th>MODEL NO</th>
                                    <th>QUANTITY</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td colspan="6" class="no-items">No items found</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <div class="view-section">
                    <h4 class="view-section-title"><i class="fas fa-check-circle"></i> Confirmation Details</h4>
                    <div class="view-detail-grid">
                        <div class="view-detail-item">
                            <div class="view-detail-label">WARRANTY PERIOD (Months)</div>
                            <div class="view-detail-value" id="viewWarrantyPeriod">N/A</div>
                        </div>
                        <div class="view-detail-item">
                            <div class="view-detail-label">DEMO GIVEN</div>
                            <div class="view-detail-value" id="viewDemoGiven">No</div>
                        </div>
                        <div class="view-detail-item">
                            <div class="view-detail-label">TRAINING GIVEN</div>
                            <div class="view-detail-value" id="viewTrainingGiven">No</div>
                        </div>
                        <div class="view-detail-item">
                            <div class="view-detail-label">EVENT START</div>
                            <div class="view-detail-value" id="viewEventStart">N/A</div>
                        </div>
                        <div class="view-detail-item">
                            <div class="view-detail-label">EVENT END</div>
                            <div class="view-detail-value" id="viewEventEnd">N/A</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="form-actions">
                <button type="button" class="btn-pdf" id="generatePdfBtn"><i class="fas fa-file-pdf"></i> Generate PDF</button>
                <button type="button" class="btn-reset" id="closeViewModalBtn"><i class="fas fa-times"></i> Close</button>
            </div>
        </div>
    </div>

    <script src="In.js"></script>
</body>
</html>